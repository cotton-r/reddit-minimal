(this["webpackJsonpreddit-minimal"]=this["webpackJsonpreddit-minimal"]||[]).push([[0],{14:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},28:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(7),s=n.n(a),i=(n(23),n(24),n(14),n(2)),o=(n(28),n(5)),u=Object(o.b)({name:"search",initialState:"",reducers:{changeActiveSearch:function(e,t){return t.payload}}}),d=u.actions.changeActiveSearch,l=u.reducer,b=n(1),j=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.search})),n=Object(i.c)((function(e){return e.subreddits.activeSubreddit})).slice(3,-1);return Object(b.jsx)("div",{id:"searchbardiv",children:Object(b.jsx)("input",{className:"searchBar",id:"Search",value:t,placeholder:"Search posts in "+n,onChange:function(t){e(d(t.target.value))}})})},h=(n(30),n(31),n(13)),m=n.n(h),f=n(8),p=(n(51),n(6)),O=n.n(p),v=n(9),x="https://www.reddit.com",g=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x).concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.data.children.map((function(e){return e.data})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(v.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x,"/subreddits.json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.data.children.map((function(e){return e.data})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(x).concat(t,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r[1].data.children.map((function(e){return e.data})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){var t=Object(r.useState)([]),n=Object(f.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){S(e.permalink).then((function(e){return a(e.map((function(e){return Object(b.jsxs)("div",{className:"comment",children:[Object(b.jsxs)("div",{className:"commentHeader",children:[Object(b.jsx)("p",{className:"commentAuthor",children:e.author}),Object(b.jsx)("p",{className:"commentDate",children:N(e.created_utc)})]}),Object(b.jsx)("p",{children:e.body})]},e.id)})))}))}),[e.permalink]),Object(b.jsx)("div",{id:e.id,className:!0===e.visible?"isShown":"isNotShown",children:c})},N=(n(53),function(e){var t=Date.now()-new Date(1e3*e),n=t/262656e4,r=t/864e5,c=t/36e5,a=t/6e4;return n>12?"more than a year ago":n>=1?Math.round(n)+" months ago":r>=1?Math.round(r)+" days ago":c>=1?Math.round(c)+" hours ago":a>=1?Math.round(a)+" minutes ago":"less than a minute ago"}),C=function(e){var t=Object(r.useState)(!1),n=Object(f.a)(t,2),c=n[0],a=n[1],s=Object(b.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",version:"1.2",baseProfile:"tiny",viewBox:"0 0 24 24",className:"icon-action",height:"1.5rem",width:"1.5rem",xmlns:"http://www.w3.org/2000/svg",children:Object(b.jsx)("path",{d:"M18 7c.542 0 1 .458 1 1v7c0 .542-.458 1-1 1h-8.829l-.171.171v-.171h-3c-.542 0-1-.458-1-1v-7c0-.542.458-1 1-1h12m0-2h-12c-1.65 0-3 1.35-3 3v7c0 1.65 1.35 3 3 3h1v3l3-3h8c1.65 0 3-1.35 3-3v-7c0-1.65-1.35-3-3-3z"})});return Object(b.jsxs)("footer",{children:[Object(b.jsx)("ul",{className:"postInfos",children:Object(b.jsxs)("li",{onClick:function(){var t=document.getElementById(e.postId);c?(t.style.display="none",a(!1)):(t.style.display="block",a(!0))},className:"commentsIcon",children:[s,"\xa0",e.postComments]})}),Object(b.jsx)(y,{permalink:e.postPermalink,id:e.postId,visible:e.visible})]})},k=function(e){var t="",n="";return e.media&&(e.media.reddit_video?t=Object(b.jsx)("video",{controls:!0,width:"100%",children:Object(b.jsx)("source",{src:e.media.reddit_video.fallback_url})}):(e.domain.match(/yout/)||e.domain.match(/vimeo/))&&(t=Object(b.jsx)(m.a,{url:e.url,controls:!0,width:"100%"}))),e.url.match(/.png|.jpg|.jpeg|v.redd/)&&(n=Object(b.jsx)("img",{src:e.url,alt:"",onError:function(e){return e.target.style.display="none"}})),Object(b.jsxs)("div",{className:"Post",children:[Object(b.jsxs)("p",{className:"PostUser",children:[Object(b.jsxs)("strong",{children:["r/",e.subreddit]})," - posted by u/",e.author," - ",function(e){var t=Date.now()-new Date(1e3*e),n=t/262656e4,r=t/864e5,c=t/36e5,a=t/6e4;return n>12?"more than a year ago":n>=1?Math.round(n)+" months ago":r>=1?Math.round(r)+" days ago":c>=1?Math.round(c)+" hours ago":a>=1?Math.round(a)+" minutes ago":"less than a minute ago"}(e.postCreated)]}),Object(b.jsx)("h2",{children:e.title}),Object(b.jsx)("p",{children:e.text}),n||null,t||null,Object(b.jsx)(C,{postId:e.PostId,postAuthor:e.author,postCreated:e.postCreated,postPermalink:e.PostPermalink,postComments:e.postComments,visible:!1})]})},P=(n(54),Object(o.b)({name:"subreddits",initialState:{subReddits:[],activeSubreddit:"/r/Home/"},reducers:{addSubreddit:function(e,t){e.subReddits.push(t.payload)},changeActiveSubreddit:function(e,t){e.activeSubreddit=t.payload}}})),I=P.actions,M=I.addSubreddit,E=I.changeActiveSubreddit,_=P.reducer,A=function(e){var t,n=Object(i.b)(),r=Object(i.c)((function(e){return e.subreddits.activeSubreddit})),c=Object(i.c)((function(e){return e.subreddits.subReddits})),a=function(e){n(E(e.target.value))};return Object(b.jsx)("section",{className:"subredditsdrop",children:(t=c,Object(b.jsx)("select",{className:"subSelector",value:r,onChange:a,children:t.map((function(e){return Object(b.jsx)("option",{value:e.url,children:e.name},e.id)}))}))})},B=function(){var e=Object(i.c)((function(e){return e.search})),t=Object(i.c)((function(e){return e.posts})),n=(Object(i.b)(),t.filter((function(t){return t.title.toLowerCase().includes(e.toLowerCase())})));return Object(b.jsxs)("div",{className:"PostsContainer",children:[Object(b.jsx)(A,{}),n.map((function(e){return Object(b.jsx)(k,{title:e.title,text:e.selftext,imgSrc:e.url,author:e.author,postCreated:e.created_utc,postComments:e.num_comments,subreddit:e.subreddit,PostName:e.name,PostId:e.id,PostPermalink:e.permalink,media:e.media,domain:e.domain,url:e.url})}))]})},D=(n(55),function(e){var t=Object(i.c)((function(e){return e.subreddits.activeSubreddit})),n=Object(i.c)((function(e){return e.subreddits.subReddits})),c=Object(i.b)();return Object(r.useEffect)((function(){return w().then((function(e){e.forEach((function(e){return c(M({name:e.display_name,url:e.url,id:e.id,icon:e.community_icon.split("?")[0]}))}))}))}),[c]),Object(b.jsx)("section",{className:"subreddits",children:Object(b.jsx)("ul",{children:n.map((function(n){return Object(b.jsxs)("li",{onClick:function(){c(E(n.url)),c(d(""))},className:t===n.url?"activeSubreddit":void 0,children:[Object(b.jsx)("img",{src:n.icon,alt:"",onError:function(t){return t.target.src=e.logo}}),n.name]})}))})})}),F=n.p+"static/media/redditlogo.b31490f4.png",H=Object(o.b)({name:"posts",initialState:[],reducers:{changePosts:function(e,t){return t.payload}}}),L=H.reducer,R=H.actions.changePosts;var J=function(){var e=Object(i.c)((function(e){return e.subreddits.activeSubreddit})),t=Object(i.b)();return Object(r.useEffect)((function(){return g(e).then((function(e){t(R(e))}))}),[e]),Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("header",{className:"header",children:[Object(b.jsxs)("h1",{className:"mainHeader",onClick:function(){t(E("/r/Home/"))},children:["reddit ",Object(b.jsx)("span",{children:"minimal"})]}),Object(b.jsx)(j,{className:"searchBar"})]}),Object(b.jsxs)("div",{className:"mainWrapper",children:[Object(b.jsx)(D,{logo:F}),Object(b.jsx)(B,{})]})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))},W=Object(o.a)({reducer:{search:l,subreddits:_,posts:L}});s.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(i.a,{store:W,children:Object(b.jsx)(J,{})})}),document.getElementById("root")),T()}},[[56,1,2]]]);
//# sourceMappingURL=main.4f1b332d.chunk.js.map